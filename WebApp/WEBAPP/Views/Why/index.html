<html ng-app="webapp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">

    <title>健康十万个为什么</title>
    <link href="/Content/css/ionic.min.css" rel="stylesheet" />
    <link href="/Content/css/webapp.css" rel="stylesheet" />
    <script src="/Content/js/ionic.bundle.min.js"></script>
    <script type="text/javascript">
        var lastselect;//储存上一个选中元素.
        var app = angular.module('webapp', ['ionic'])
        app.controller('WhyCtrl', function ($scope) {
            $scope.contacts = [
                { name: '内科',id:1 },
                { name: '外科', id: 2 },
                { name: '肾内科', id: 3 },
                { name: '消化内科', id: 4 },
                { name: '神经内科', id: 5 },
                { name: '呼吸内科', id: 6 },
                { name: '血液科', id: 7 },
                { name: '骨科', id: 8 },
                { name: '儿科', id: 9 },
                { name: '妇产科', id: 10 },
                { name: '妇产科2', id: 11 },
                { name: '妇产科3', id: 12 },
                { name: '妇产科4', id: 13 },
                { name: '妇产科5', id: 14 },
                { name: '妇产科6', id: 15 },
                { name: '妇产科7', id: 16 },
                { name: '妇产科8', id: 17 },
                { name: '妇产科9', id: 18 },
                { name: '妇产科10', id: 19 },
                { name: '妇产科11', id: 20 },
                { name: '妇产科12', id: 21 },
                { name: '脑科', id: 22 },
                { name: '', id: 0 },
                { name: '', id: 0 },
                { name: '',id:0 }
            ];
            $scope.cssselect = "whylist-select";
        });
        app.controller('KsCtrl', function ($scope, $ionicSideMenuDelegate) {
            $scope.GetTwo = function (name,id) {
                $ionicSideMenuDelegate.toggleRight();
                var kstwo = {};
                var dataoption;
                for (var i = 0; i < 30; i++) {
                    dataoption = { name: name + i, id: i };
                    kstwo[i] = dataoption;
                }
                $scope.kstwojson = kstwo;
                $scope.kstwoHead = name;
                //实现选中改变样式.
                var itemele = angular.element(document.getElementById("item" + id));
                var hele = angular.element(document.getElementById("h" + id));
                itemele.removeClass("whylist-noselect");
                itemele.addClass("whylist-select");
                hele.addClass("green-font");
                if (lastselect != undefined) {
                    itemele = angular.element(document.getElementById("item" + lastselect));
                    hele = angular.element(document.getElementById("h" + lastselect));
                    itemele.removeClass("whylist-select");
                    itemele.addClass("whylist-noselect");
                    hele.removeClass("green-font");
                }
                lastselect = id;
            }
        });
    </script>
</head>
<body ng-controller="WhyCtrl">
    <ion-header-bar class="bar-green">
        <button class="button icon ion-ios-arrow-left"></button>
        <h1 class="title">健康十万个为什么</h1>
    </ion-header-bar>
    <ion-content scroll="false" ng-controller="KsCtrl">
        <div class="bar bar-subheader-green item-input-inset">
            <label class="item-input-wrapper">
                <i class="icon ion-ios-search placeholder-icon"></i>
                <input type="text" placeholder="搜索" />
            </label>
            <button class="button button-energized">确定</button>
        </div>
        <div class="row bar item-input-inset">
            <h4 class="title" style="color:#8BC34A" ng-init="kstwoHead">{{kstwoHead}}&nbsp;&nbsp;&nbsp;<i class="icon icon-right ion-ios-arrow-up"></i></h4>
        </div>
        <div class="row">
            <div class="col-34">
                <ion-nav-view class="col-34">
                    <ion-view>
                        <ion-content scrollbar-y="false">
                            <ion-list class="list-borderless list-inset">
                                <ion-item id="item{{contact.id}}" class="item whylist-noselect" ng-repeat="contact in contacts" ng-click="GetTwo('{{contact.name}}','{{contact.id}}')">
                                    <h3 id="h{{contact.id}}" ng-class="{true:'green-font',false:'noclass'}[isselectfont]">{{contact.name}}</h3>
                                </ion-item>
                            </ion-list>
                        </ion-content>
                    </ion-view>
                </ion-nav-view>
            </div>
            <div class="col-66">
                <ion-nav-view class="col-66">
                    <ion-view>
                        <ion-content scrollbar-y="false">
                            <ion-list class="list-borderless list-inset">
                                <ion-item ng-repeat="item in kstwojson">
                                    <h3>{{item.name}}</h3>
                                </ion-item>
                            </ion-list>
                        </ion-content>
                    </ion-view>
                </ion-nav-view>
            </div>
        </div>
    </ion-content>
    <ion-footer-bar align-title="centent">
        <div class="tabs tabs-icon-top">
            <a class="tab-item" href="#">
                <i class="icon ion-home"></i>
                主页
            </a>
            <a class="tab-item" href="#">
                <i class="icon ion-compass"></i>
                发现
            </a>
            <a class="tab-item" href="#">
                <i class="icon ion-person"></i>
                我
            </a>
        </div>
    </ion-footer-bar>
</body>
</html>
